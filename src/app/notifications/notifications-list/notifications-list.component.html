<ActionBar class="action-bar" [title]="'NOTIFICATIONS.NOTIFICATIONS'|L" >

  <!-- TITOLO > ANDROID -->
  <StackLayout ios:visibility="collapsed" orientation="horizontal" ios:horizontalAlignment="center" android:horizontalAlignment="left">
    <Image src="res://mark" class="action-image text-left pull-left m-r-10"></Image>
    <Label [text]="'NOTIFICATIONS.NOTIFICATIONS'|L|titlecase"  class="action-label text-left pull-left"></Label>
  </StackLayout>
  <!-- TITOLO > IOS (hack per allineare a sinistra il titolo) -->
  <ActionItem android:visibility="collapsed" ios.position="left" android.position="left">
      <StackLayout>
          <Image src="res://mark" stretch="none"></Image>
      </StackLayout>
  </ActionItem>
  <ActionItem android:visibility="collapsed" text="" ios.position="left" android.position="left">
    <Label class="action-bar-title text-left pull-left" [text]="'NOTIFICATIONS.NOTIFICATIONS'|L|titlecase"></Label>
  </ActionItem>

  <!-- ICONE -->
  <!--
  <NavigationButton text="Go Back" icon="res://arrow_left" text="" (tap)="goBack()"></NavigationButton>
  <ActionItem text="add" ios.position="right" android.position="actionbar" icon="res://add" ></ActionItem>
  <ActionItem text="add" ios.position="right" android.position="actionbar" icon="res://add" ></ActionItem>
  <ActionItem text="add" ios.position="right" android.position="actionbar" icon="res://add" ></ActionItem>
  <ActionItem text="close" ios.position="right" android.position="actionbar" icon="res://close" ></ActionItem>
  <ActionItem text="cerca" ios.position="right" android.position="actionbar" ios.systemIcon="12" android.systemIcon="ic_menu_search"></ActionItem>
  -->
</ActionBar>

<!-- https://play.nativescript.org/?template=play-ng&id=bMb4PO&v=3 -->

<!-- <RadListView class="notifications" [items]="notifications" pullToRefresh="true" (pullToRefreshInitiated)="onPullToRefreshInitiated($event)"`> -->

<!-- (itemSwipeProgressEnded)="onSwipeCellFinished($event)"  (itemSwipeProgressChanged)="onCellSwiping($event)" -->

<RadListView backgroundColor="red" class="notifications" [items]="notifications"
(itemSwipeProgressStarted)="onSwipeCellStarted($event)"
selectionBehavior="None" swipeActions="true"
pullToRefresh="true" (pullToRefreshInitiated)="onPullToRefreshInitiated($event)">

  <ListViewLinearLayout tkListViewLayout scrollDirection="Vertical" itemInsertAnimation="Default" itemDeleteAnimation="Default"></ListViewLinearLayout>

  <ng-template tkListItemTemplate let-item="item" let-index="index">
    <CardView backgroundColor="" class="card-group" elevation="40" radius="10" ios:shadowRadius="10" shadowOpacity="0.2" shadowColor="#000" shadowOffsetHeight="10" [class.list-group-first]="index===0">
      <StackLayout  class="list-group-item">
        <GridLayout columns="80, *" rows="80, auto" >
          <Image [src]="item.image" class="list-group-item-img" stretch="aspectFill" row="0" col="0"></Image>
          <AbsoluteLayout row="0" col="1">
            <GridLayout left="0" top="0" width="100%" columns="41, *, 65" rows="44, 35, 1" backgroundColor=""  >
              <Label *ngIf="item.private>0;" text="" class="list-group-item-icon-lock" row="0" col="0" backgroundColor="" ></Label>
              <Label *ngIf="item.private>0;" [text]="item.title" class="list-group-item-heading-10 text-uppercase" textWrap="true" row="0" col="1" colSpan="2" backgroundColor=""></Label>
              <Label *ngIf="item.private==0;" [text]="item.title" class="list-group-item-heading-10 list-group-item-heading-m-l-15 text-uppercase" textWrap="true" row="0" col="0" colSpan="3" backgroundColor=""></Label>
              <Label [text]="item.subtitle" class="list-group-item-heading-14" textWrap="true" row="1" col="0" colSpan="2" backgroundColor=""></Label>
              <Label [text]="item.date" class="text-right list-group-item-date" textWrap="true" row="1" col="2" backgroundColor=""></Label>
              <Label *ngIf="item.message.length>0;" text="" class="list-group-item-h-line" row="2" col="0" colSpan="3"></Label>
            </GridLayout>
            <StackLayout left="0" top="0" width="100%" height="32" *ngIf="item.read==0;">
                <Label class="list-group-item-icon-partecipate" horizontalAlignment="right"></Label>
            </StackLayout>
          </AbsoluteLayout>
          <GridLayout row="1" col="0" colSpan="2" columns="41, *, 50" rows="auto" backgroundColor="" *ngIf="item.message.length>0;">
            <Label text="" [ngClass]="'list-group-item-icon-' + item.type" row="0" col="0"></Label>
            <Label [text]="item.message" class="list-group-item-text text-left text-uppercase" row="0" col="1"></Label>
            <Label text="" class="list-group-item-icon-arrow" row="0" col="2"></Label>
          </GridLayout>
        </GridLayout>
      </StackLayout>
    </CardView>
  </ng-template>

  <StackLayout *tkListItemSwipeTemplate class="card-group card-group-delete" >
    <StackLayout class="list-group-item list-group-item-delete" backgroundColor="green" >
      <GridLayout  columns="auto, *, auto" class="gridLayoutLayout">
         <StackLayout id="delete-view" col="2" class="deleteViewStackLayout" (tap)="onRightSwipeClick($event)">
             <Label text="delete item" class="swipetemplateLabel" verticalAlignment="center" horizontalAlignment="center"></Label>
         </StackLayout>
      </GridLayout>
    </StackLayout>
  </StackLayout>

</RadListView>

<!-- <lv:RadListView.itemSwipeTemplate>
    <GridLayout columns="auto, *, auto" backgroundColor="White">
        <StackLayout id="mark-view" col="0" style="background-color: blue;" tap="onLeftSwipeClick" paddingLeft="16" paddingRight="16" orientation="horizontal">
            <Label text="mark" style="text-size: 20" verticalAlignment="center" horizontalAlignment="center"/>
        </StackLayout>
        <StackLayout id="delete-view" col="2" style="background-color: red;" tap="onRightSwipeClick"  paddingLeft="16" paddingRight="16" orientation="horizontal">
            <Label text="delete" style="text-size: 20" verticalAlignment="center" horizontalAlignment="center" />
        </StackLayout>
    </GridLayout>
</lv:RadListView.itemSwipeTemplate> -->
