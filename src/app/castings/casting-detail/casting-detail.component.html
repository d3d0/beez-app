<ActionBar class="action-bar">
	<Label class="action-bar-title" [text]="casting.title" ></Label>
	<NavigationButton android.systemIcon="ic_menu_back" text="" (tap)="goBack()"></NavigationButton>
</ActionBar>

<ScrollView class="casting-detail">

	<StackLayout>
		<Image [src]="casting.image" height="auto" stretch="aspectFit" horizontalAlignment="center" verticalAlignment="top"></Image>
		<CardView class="card-group" elevation="40" radius="20" ios:shadowRadius="15">
			<StackLayout class="list-group-item p-t-20">
				<GridLayout columns="50, *" rows="auto,auto,auto,auto,auto,auto,auto,auto,auto,auto,auto">
					<Label text="" class="list-group-item-icona-info list-group-item-icona-info-first" row="0" col="0"></Label>
					<Label [text]="'CASTINGS.INFORMATION'|L" class="list-group-item-heading-18 list-group-item-heading-18-first" textWrap="true" row="0" col="1" ></Label>

					<Label text="" class="list-group-item-v-line" row="1" col="0"></Label>
					<Label class="list-group-item-text" [text]="casting.info" textWrap="true" row="1" col="1"></Label>

					<Label text="" class="list-group-item-icona-characteristics" row="2" col="0"></Label>
					<Label [text]="'CASTINGS.FEATURES'|L" class="list-group-item-heading-18" textWrap="true" row="2" col="1" ></Label>

					<Label text="" class="list-group-item-v-line" row="3" col="0"></Label>
					<Label  class="list-group-item-text" textWrap="true" row="3" col="1">
						<FormattedString *ngFor="let feature of casting.features" >
							<Span text=" • " ></Span>
							<Span [text]="feature" ></Span>
							<Span text=";" ></Span>
						</FormattedString>
					</Label>

					<Label text="" class="list-group-item-icona-calendar" row="4" col="0"></Label>
					<Label [text]="'CASTINGS.DATE_LOCATION'|L" class="list-group-item-heading-18" textWrap="true" row="4" col="1" ></Label>

					<Label text="" class="list-group-item-v-line" row="5" col="0"></Label>
					<Label [text]="'CASTINGS.CASTING'|L" class="text-uppercase list-group-item-heading-14" textWrap="true" row="5" col="1" ></Label>

					<Label text="" class="list-group-item-v-line" row="6" col="0"></Label>
					<Label textWrap="true" class="text-left text-uppercase list-group-item-text" row="6" col="1">
						<FormattedString *ngFor="let date of casting.casting_date" >
							<Span [text]="date[0] * 1000 | date:'dd.MM.yy'" ></Span>
							<Span text=" • " ></Span>
							<Span [text]="date[0] * 1000 | date:'HH:mm'" ></Span>
							<Span text=" - " ></Span>
							<Span [text]="date[1]  * 1000 | date:'HH:mm'" ></Span>
						</FormattedString>
					</Label>

					<Label text="" class="list-group-item-v-line" row="7" col="0"></Label>
					<Label class="list-group-item-text" [text]="casting.location" textWrap="true" row="7" col="1"></Label>

					<Label text="" class="list-group-item-v-line" row="8" col="0"></Label>
					<Label [text]="'CASTINGS.SHOOTING'|L" class="text-uppercase list-group-item-heading-14" textWrap="true" row="8" col="1" ></Label>

					<Label text="" class="list-group-item-v-line" row="9" col="0"></Label>
					<Label class="list-group-item-text" [text]="casting.shooting" textWrap="true" row="9" col="1"></Label>

					<Label text="" class="list-group-item-v-line" row="10" col="0"></Label>
					<Label class="list-group-item-text list-group-item-text-last" text="Orario e location saranno comunicati." textWrap="true" row="10" col="1"></Label>
				</GridLayout>

				<GridLayout *ngIf="casting.status === 'New'"  class="p-t-0 p-b-20" columns="50, *" rows="auto,auto,auto">
						<Label text="" class="list-group-item-icona-partecipate" row="0" col="0" verticalAlignment="top"></Label>
						<Button [text]="'PARTICIPATE'|L" (tap)="candidate()" class="text-uppercase list-group-item-pulsante list-group-item-pulsante--verde" row="0" col="1"></Button>

						<Label text="" class="list-group-item-v-line" row="1" col="0" height="20"></Label>

						<Label text="" class="list-group-item-icona-share" row="2" col="0" verticalAlignment="top"></Label>
						<Button  [text]="'SHARE_WITH_A_FRIEND'|L" (tap)="share()"class="text-uppercase list-group-item-pulsante list-group-item-pulsante--blu" row="2" col="1"></Button>
				</GridLayout>

				<GridLayout *ngIf="casting.status === 'Audition'"  class="p-t-0 p-b-20" columns="50, *" rows="auto,auto,auto,auto,auto,auto,auto,auto,auto,auto">
					<Label text="" class="list-group-item-v-line" row="0" col="0"></Label>
					<Label row="0" col="1"  [text]="'CASTINGS.PARTICIPATION_AUDITION_TITLE'|L" class="list-group-item-heading-18" textWrap="true"></Label>

					<Label text="" class="list-group-item-v-line" row="1" col="0"></Label>
					<Label row="1" col="1" [text]="'CASTINGS.PARTICIPATION_AGENCY_SELECT_TITLE'|L" class="list-group-item-text" textWrap="true"></Label>

					<Label text="" class="list-group-item-v-line" row="2" col="0"></Label>
					<TextField row="2" col="1" class="card-group-item-email"
					[editable]="false"
					[text]="selectedAgency.name"
					[hint]="'USER.AGENCY'|L|titlecase"
					(tap)="selectAgency()"></TextField>

					<Label text="" class="list-group-item-v-line" row="3" col="0"></Label>
					<StackLayout row="3" col="1" orientation="horizontal" (tap)="toggleCheck()">
						<Label [text]="'CASTINGS.PARTICIPATION_NO_AGENCY'|L" class="list-group-item-text" textWrap="true"></Label>
						<CheckBox #CBAgency checked="false" (checkedChange)="changeAgency()"></CheckBox>
					</StackLayout>

					<Label text="" class="list-group-item-v-line" row="4" col="0"></Label>

					<Label text="" class="list-group-item-icona-partecipate" row="5" col="0" verticalAlignment="top"></Label>
					<Button row="5" col="1" [text]="'CASTINGS.PARTICIPATION_CONFIRM'|L" (tap)="partecipate('Confirmed')" class="text-uppercase list-group-item-pulsante list-group-item-pulsante--verde"></Button>

					<Label text="" class="list-group-item-v-line" row="6" col="0"></Label>

					<Label text="" class="list-group-item-icona-partecipate" row="7" col="0" verticalAlignment="top"></Label>
					<Button row="7" col="1" [text]="'CASTINGS.PARTICIPATION_WHITH_ARCHIVE'|L" (tap)="partecipate('Confirmed by archive')" class="text-uppercase list-group-item-pulsante list-group-item-pulsante--verde"></Button>

					<Label text="" class="list-group-item-v-line" row="8" col="0"></Label>

					<Label text="" class="list-group-item-icona-partecipate" row="9" col="0" verticalAlignment="top"></Label>
					<Button row="9" col="1" [text]="'CASTINGS.PARTICIPATION_DECLINE'|L" (tap)="partecipate('Declined')" class="text-uppercase list-group-item-pulsante list-group-item-pulsante--verde"></Button>

				</GridLayout>
			</StackLayout>
		</CardView>
	</StackLayout>
</ScrollView>
